<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="GiriÅŸ.css" />
  </head>
  <body>
    <div class="main">
      <input type="checkbox" id="chk" aria-hidden="true" />

      <div class="signup">
        <form>
          <label for="chk" aria-hidden="true">KayÄ±t Ol</label>
          <input
            type="text"
            name="username"
            placeholder="KullanÄ±cÄ± AdÄ±"
            required=""
          />

          <div class="password-container">
            <input
              type="password"
              id="signupPassword"
              name="password"
              placeholder="Åifre"
              required=""
            />
            <span
              class="eye-icon"
              onclick="togglePasswordVisibility('signupPassword', this)"
              >ğŸ‘ï¸</span
            >
          </div>

          <input
            type="date"
            name="birthdate"
            placeholder="DoÄŸum Tarihi"
            required=""
          />
          <select name="studentType" required="">
            <option disabled="" selected="" value="">Ã–ÄŸrenci TÃ¼rÃ¼</option>
            <option value="ilkokul">Ä°lkokul</option>
            <option value="ortaokul">Ortaokul</option>
            <option value="lise">Lise</option>
            <option value="universite">Ãœniversite</option>
            <option value="diger">DiÄŸer</option>
          </select>
          <select required="" name="gender">
            <option disabled="" selected="" value="">Cinsiyet</option>
            <option value="erkek">Erkek</option>
            <option value="kiz">KÄ±z</option>
          </select>
          <textarea
            name="about"
            placeholder="Kendinizden bahsedin..."
            rows="3"
          ></textarea>
          <button type="submit">KayÄ±t Ol</button>
        </form>
      </div>

      <div class="login">
        <form>
          <label for="chk" aria-hidden="true">GiriÅŸ Yap</label>
          <input
            type="text"
            name="username"
            placeholder="KullanÄ±cÄ± AdÄ±"
            required=""
          />
          <div class="password-container">
            <input
              type="password"
              id="loginPassword"
              name="pswd"
              placeholder="Åifre"
              required=""
            />
            <span
              class="eye-icon"
              onclick="togglePasswordVisibility('loginPassword', this)"
              >ğŸ‘ï¸</span
            >
          </div>
          <button type="submit">GiriÅŸ Yap</button>
        </form>
      </div>
    </div>
    <script>
      // --- DROPDOWN MENÃœ KONTROLÃœ ---
      function toggleDropdown(id) {
        const element = document.getElementById(id);
        const isOpening = !element.classList.contains("show");

        // TÃ¼m aÃ§Ä±k menÃ¼leri kapat
        document
          .querySelectorAll(".dropdown-menu, .user-menu")
          .forEach((el) => {
            el.classList.remove("show");
          });

        // YalnÄ±zca tÄ±klanan menÃ¼yÃ¼ aÃ§
        if (isOpening) {
          element.classList.add("show");
        }
      }

      // Sayfa genelinde tÄ±klama kontrolÃ¼: menÃ¼ler dÄ±ÅŸÄ±na tÄ±klanÄ±nca kapat
      window.onclick = function (event) {
        if (
          !event.target.closest(".menu-btn") &&
          !event.target.closest(".user-btn")
        ) {
          document
            .querySelectorAll(".dropdown-menu, .user-menu")
            .forEach((el) => {
              el.classList.remove("show");
            });
        }
      };

      // --- FORM GEÃ‡Ä°ÅLERÄ° VE AÃ‡MA/KAPAMA KONTROLÃœ ---
      const formOverlay = document.getElementById("formOverlay");
      const formCheckbox = document.getElementById("chk"); // GiriÅŸ/KayÄ±t sekmesi kontrol
      const openLoginLink = document.getElementById("openLoginLink");
      const openSignupLink = document.getElementById("openSignupLink");

      function openForm(showLogin) {
        // Ã–nce aÃ§Ä±k menÃ¼leri kapat
        document
          .querySelectorAll(".dropdown-menu, .user-menu")
          .forEach((el) => {
            el.classList.remove("show");
          });

        // Formu gÃ¶ster
        formOverlay.classList.add("active");
        document.body.classList.add("blurry");
        document.documentElement.style.overflowY = "hidden";

        // GiriÅŸ mi KayÄ±t mÄ± gÃ¶sterileceÄŸini ayarla
        formCheckbox.checked = showLogin;
      }

      function closeForm() {
        formOverlay.classList.remove("active");
        document.body.classList.remove("blurry");
        document.documentElement.style.overflowY = "auto";
      }

      // GiriÅŸ baÄŸlantÄ±sÄ±na tÄ±klanÄ±rsa formu giriÅŸ iÃ§in aÃ§
      if (openLoginLink) {
        openLoginLink.addEventListener("click", (e) => {
          e.preventDefault();
          openForm(true);
        });
      }

      // KayÄ±t baÄŸlantÄ±sÄ±na tÄ±klanÄ±rsa formu kayÄ±t iÃ§in aÃ§
      if (openSignupLink) {
        openSignupLink.addEventListener("click", (e) => {
          e.preventDefault();
          openForm(false);
        });
      }

      // Form dÄ±ÅŸÄ±na tÄ±klanÄ±nca formu kapat
      formOverlay.addEventListener("click", function (event) {
        if (event.target === formOverlay) {
          closeForm();
        }
      });

      // Åifreyi gÃ¶ster/gizle ikonu iÃ§in
      function togglePasswordVisibility(fieldId, iconElement) {
        const passwordField = document.getElementById(fieldId);
        const isPassword = passwordField.type === "password";
        passwordField.type = isPassword ? "text" : "password";
        iconElement.textContent = isPassword ? "ğŸ™ˆ" : "ğŸ‘ï¸";
      }

      // ESC tuÅŸuna basÄ±nca formu kapat
      document.addEventListener("keydown", function (event) {
        if (
          event.key === "Escape" &&
          formOverlay.classList.contains("active")
        ) {
          closeForm();
        }
      });
    </script>

  </body>
</html>
